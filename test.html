<html>
<head>
    <script src="https://raw.github.com/simoncozens/JSGenealogy/master/Utilities.js"></script>
    <script src="https://raw.github.com/simoncozens/JSGenealogy/master/DataImport.js"></script>
    <script src="https://raw.github.com/simoncozens/JSGenealogy/master/DrawingEngine.js"></script>
    <script src="https://raw.github.com/simoncozens/JSGenealogy/master/LayoutEngine.js"></script>
    <script>
        var members;
        var url = "https://raw.github.com/simoncozens/JSGenealogy/master/family.xml"
    </script>
</head>
<body onload="members = layout(url, document.getElementById('tree'), 'I2')">
<canvas id="tree" width=2000 height=600></canvas>
<script>
    document.getElementById("tree").onmouseup = function c(e) {
        var that = this;
        var x;
        var y;
        if (e.pageX || e.pageY) { x = e.pageX; y = e.pageY; }
        else { 
          x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft; 
          y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop; 
        } 
        x -= this.offsetLeft;
        y -= this.offsetTop;

        members.forEach(function(obj) { 
            if (obj.layoutObject.inBounds(x, y, that.getContext("2d"))) {
                members=layout(url, that,obj.id);
            }
        });
    };
</script>
</body>
</html>

